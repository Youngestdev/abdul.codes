{"data":{"post":{"id":"ac9943f57fdc643256a985be48b1c0e1","title":"Understanding Recursion","content":"<p>One of the most interesting concepts in intermediate programming is recursion. I used the word intermediate because you usually do not need it for simple tasks.</p>\n<h2 id=\"what-is-recursion\"><a href=\"#what-is-recursion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>What is Recursion</h2>\n<p>In simple words, recursion is a process whereby a program function calls itself. Take for example, you make a call to your phone with your phone ( except that it doesn't ring ).</p>\n<p>Okay, that doesn't sound so simple so here's a simple code block:</p>\n<p><img src=\"https://res.cloudinary.com/adeshina/image/upload/v1605867057/kmf4bhzwu4483r0zkmnz.svg\" alt=\"A recursive function\"></p>\n<h4 id=\"so-what-does-the-function-above-do\"><a href=\"#so-what-does-the-function-above-do\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>So what does the function above do?</h4>\n<p>The second line where we self-invoked the function, repeats whatever the original does. However, the function above is erroneous and will return an error if I try to mimic it. I'll explain better later in the article, let's have a look at the complexity of a recursive function.</p>\n<h2 id=\"complexity-of-a-recursive-function\"><a href=\"#complexity-of-a-recursive-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Complexity of a recursive function</h2>\n<p>The time complexity for a recursive function is O(b<sup>d</sup>) where b is the branching factor and d is the depth of the recursion.</p>\n<p>Branching factor in recursion is determined by the formula used for executing the recursive calls. For a Fibonacci function, the branching factor is 2 since the recursive formula is <code class=\"language-text\">Fib(n-1) + Fib(n-2)</code>. </p>\n<p>So, I can conclude that the branching factor <code class=\"language-text\">b</code> is equal to length of the recursive function invoked in one call:</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">b => recursiveCall(x) + ... + n where n >= 0</code></pre></div>\n<p>The depth of a recursion tree is the longest path of the recursive tree. Most times, the depth of a recursive function is equal to the argument or length of argument passed into the parent function.</p>\n<div class=\"gridsome-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">d => length of tree - 1</code></pre></div>\n<h4 id=\"what-is-a-recursion-tree\"><a href=\"#what-is-a-recursion-tree\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>What is a recursion tree?</h4>\n<p>A recursion tree is basically a normal tree. It is only used to illustrate the recursive process such as branching and finding the depth of the recursion. </p>\n<p>It is particularly useful to understand the execution process of a recursive function.</p>\n<h2 id=\"defining-a-recursive-function\"><a href=\"#defining-a-recursive-function\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Defining a recursive function</h2>\n<p>A recursive function is just another normal function except that it calls itself. The fact that it calls itself requires that we set break clauses in the parent function. Like I said earlier, mimicking the earlier function will lead into an error. This error is the <strong>Maximum recursion depth exceeded</strong> error. Let's take a look at an example:</p>\n<div class=\"gridsome-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello \"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> sayHello<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n\nsayHello<span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Running the code above will keep printing <em>Hello Abdul</em> until the maximum memory allocated for that function is finished:</p>\n<p><img src=\"https://res.cloudinary.com/adeshina/image/upload/v1605869730/mjlzairodvdummk60rg3.png\" alt=\"Maximum recursion stack depth exceeded\"></p>\n<p>In simple words, it's like an infinite loop except that it'll crash when the limit has exceeded.</p>\n<p>Another example is:</p>\n<div class=\"gridsome-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">recursiveSum</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">return</span> n <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The summation function above executes to death because we keep repeating, repeating, repeating until we've used the maximum allocations.</p>\n<h3 id=\"how-do-i-fix-that\"><a href=\"#how-do-i-fix-that\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>How do I fix that?</h3>\n<p>Like I said earlier, recursive functions need break clauses. For the summation function above, we intend to find the sum of n numbers i.e if n => 5, it should return 1 + 2 + 3 + 4 + 5 = 15.</p>\n<p>The subsequent call to the recursive function above takes in an argument of <strong>n-1</strong>. That is, the general idea behind the function is:</p>\n<div class=\"gridsome-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">if</span> n <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">5</span>\n\nthen<span class=\"token punctuation\">:</span>\n\nrecusriveSum<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">5</span> <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\nrecursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">9</span> <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> \nrecursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> \nrecursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> \nrecursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nrecursiveSum<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">0</span> \n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> loops on</code></pre></div>\n<p>From the demonstration above, it is evident we need to end the function and return the answer when n-1 becomes 0. So, before invoking the recursive function, we'll set a break clause:</p>\n<div class=\"gridsome-highlight has-highlighted-lines\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">recursiveSum</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"gridsome-highlight-code-line\">  <span class=\"token keyword\">if</span> n <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span></span><span class=\"gridsome-highlight-code-line\">    <span class=\"token keyword\">return</span> n</span>  \n  <span class=\"token keyword\">return</span> n <span class=\"token operator\">+</span> recursiveSum<span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The break clauses immediately returns the sum once <code class=\"language-text\">n - 1 => 0</code>. </p>\n<p>The recursion tree for the function above is:</p>\n<p><img src=\"https://res.cloudinary.com/adeshina/image/upload/v1605871131/mxdqsw3mucjyyvmrczs9.svg\"></p>\n<p>From the recursion tree, the branching factor is 1 and, the depth is 5.</p>\n<h2 id=\"head-and-tail-recursion\"><a href=\"#head-and-tail-recursion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Head and Tail recursion</h2>\n<p>There are two types of recursion. The <code class=\"language-text\">recursiveSum(n)</code> function above is an example of tail recursion. </p>\n<p><strong>In a head recursion</strong>, the recursive function is placed at the top of the function before executing the other part of the function.</p>\n<p>Example:</p>\n<div class=\"gridsome-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">headrecur</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    headrecur<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n    do_something<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    </code></pre></div>\n<p><strong>In a tail recursion</strong>, the recursive function is invoked at the end of the program:</p>\n<div class=\"gridsome-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">tailrecur</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    do_something<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    tailrecur<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></code></pre></div>\n<p>In most cases, the type of recursion depends on what you intend to achieve. The tail recursion is much more popular as most recursive functions require break clauses and a result, the recursion call comes after the conditions.</p>\n<p>You should read this <a href=\"https://stackoverflow.com/questions/21426688/the-difference-between-head-tail-recursion#:~:text=In%20head%20recursion%20%2C%20the%20recursive,occurs%20before%20the%20recursive%20call.\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Stack Overflow Answer</a> if you do not understand.</p>\n<h2 id=\"recursion-vs-iteration\"><a href=\"#recursion-vs-iteration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Recursion vs Iteration</h2>\n<p>Some recursive problems can be solved iteratively. In most cases, the iterative solutions to problems are much more efficient than the recursive ones - this is because the memory consumption from iterative processes is less than that of a recursive process.</p>\n<p>Both style have their questions, it's usually better to solve tree related problems with the recursive approach, it saves stress and time. Recursion can however be very slow in some cases - backtracking for example.</p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Conclusion</h2>\n<p>In this little post, I touched down the fundamentals of recursion and, the recursion tree. In <em>future</em> posts, I'll be solving recursion based problems alongside explaining other aspects - recursion stack, call stack generally.</p>\n<h2 id=\"references\"><a href=\"#references\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>References</h2>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/21426688/the-difference-between-head-tail-recursion#:~:text=In%20head%20recursion%20%2C%20the%20recursive,occurs%20before%20the%20recursive%20call.\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Stack Overflow</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/recursion/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GeeksForGeeks</a></li>\n<li><a href=\"https://web.stanford.edu/class/archive/cs/cs106b/cs106b.1176/handouts/midterm/5-BigO.pdf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Stanford University</a></li>\n<li><a href=\"http://www.bowdoin.edu/~ltoma/teaching/cs107/spring05/recursion.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bowdoin CS107 exercies</a></li>\n</ol>\n","date":"21 November 2020","timeToRead":4,"image":null}},"context":{}}